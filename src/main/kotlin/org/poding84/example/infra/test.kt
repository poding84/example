package org.poding84.example.infra

private val infraTags = """
delivery-job-queue
sender-runner-trigger-queue
push-daemon-queue
push-delivery-job-status-db
push-fargate-worker
push-daemon-worker
crm-audience-db
crm-audience-db
delay-send-event
delay-send-schedule-job-queue
event-triggering-entry-queue
delay-send-schedule-job-dq
crm-api
iam-external-api-router
consistency-message-queue
notification-consistency-result-db
notification-consistency-result-db
notification-consistency-result-db
billing-worker-event
crm-nat-api
crm-audience-load-job-status-db
crm-audience-load-job-queue
crm-audience-cache-db
crm-audience-cache-db
crm-audience-cache-db
crm-audience-daemon-worker
crm-etl-stream
crm-etl-stream
crm-etl-stream-consumer
crm-etl-dead-queue
crm-ingestion-api
crm-click-tracking-api-router
crm-event-api-router
crm-internal-api-router
crm-nat-api-router
crm-log-ingestion-file-event
event-ingestion-stream
event-ingestion-stream
event-ingestion-stream-consumer
event-api
common-api
oauth-openapi-service
ingestion-openapi-router
ingestion-sdkapi-router
event-log-etl-pipeline-trigger-queue
event-log-ingestion-pipeline-trigger-queue
event-log-etl-pipeline-trigger-file-event
event-log-ingestion-pipeline-trigger-file-event
event-etl-glue
user-profile-stream
user-profile-stream
device-profile-stream
device-profile-stream
device-profile-connect-stream
device-profile-connect-stream
fetch-api
event-sdkapi
event-triggering-delay-sender
event-openapi
device-profile-aggregated-sender
user-profile-openapi
user-profile-sdkapi
consistency-worker
crm-click-tracking-api
event-aggregated-sender
kt-nat-api
crm-audience-cache-loader-runner
crm-audience-manager
crm-event-api
test-push-api
push-scheduler
sdk-meta-sdkapi
oauth-openapi
crm-audience-cache-loader
user-profile-aggregated-sender
crm-audience-cache-loder
event-triggering-entry-consumer
push-sender-runner
simulate-api
billing-worker
identifier-sdkapi
identifier-openapi
device-profile-sdkapi
unifiedid-merge-queue
identifier-queue
user-profile-internal-queue
user-profile-change-queue
device-profile-change-queue
user-profile-change-firehose
user-profile-change-firehose
device-profile-change-firehose
device-profile-change-firehose
profile-api
data-service-api-router
data-service-api-router
identity-unify-loader-repository
data-service-api-repository
profile360-etl-pipeline-trigger-queue
user-profile-change-log-etl-pipeline-trigger-queue
device-profile-change-log-etl-pipeline-trigger-queue
user-profile-etl-pipeline-trigger-queue
user-profile-loader-service
user-profile-internal-loader-service
identifier-loader-service
device-profile-loader-service
device-connect-loader-service
user-profile-change-stream-loader-service
device-profile-change-queue-loader-service
unifiedid-merge-loader-service
user-profile-db
user-profile-db
device-profile-db
device-profile-db
identity-db
identity-db
identity-logs-storage
data-app-service
control-plane-service
uri-based-query-runner-pipeline-trigger-queue
audience-query-s3-file-event-queue
audience-query-loader-service
analytics-storage
dashboard-report-db
data-warehouse-db
audience-workgroup-db
report-workgroup-db
etl-workgroup-db
etl-workgroup-db
audience-namespace-db
etl-namespace-db
report-namespace-db
put-audience-query-file-event
control-plane-api-repository
query-execution-manager-repository
backend-etl-storage
backend-etl-storage
backend-etl-storage
backend-data-lake-storage
dfn-library-repository
dfinery-domain
pipeline-engine-repository
bot-scenario-runner-repository
pipeline-trigger-queue
"	
daemon-server-executor-job-queue"
"	
daemon-server-executor-job-queue"
pipeline-trigger-message-provider-queue
data-service-cert
pipeline-trigger-message-provider-service
kinesis-redrive-job-loader-service
kinesis-unhandled-job-loader-service
pipeline-engine, control-plane-service
data-oper-service
pipeline-job-db
bot-scenario-job-db
query-job-db
config-store-db
meta-db
data-catalog-db
athena-workgroup-db
""".trimIndent()

private val realCostRows = """
"2024-06-10","analytics-storage","0.053322424"
"2024-06-10","athena-workgroup-db","0.04826"
"2024-06-10","audience-namespace-db","0.0001845792"
"2024-06-10","audience-query-loader-logs","0.00016638609999999998"
"2024-06-10","audience-query-loader-service","0.000148480835796"
"2024-06-10","audience-query-s3-file-event-queue","0.0055268"
"2024-06-10","audience-workgroup-db","24.52798467"
"2024-06-10","backend-data-lake-storage","0.001088774"
"2024-06-10","backend-etl-storage","0.0141308208"
"2024-06-10","billing-worker","0.012524553"
"2024-06-10","bot-scenario-job-db","0.0114088105"
"2024-06-10","bot-scenario-runner-repository","0.0018623552"
"2024-06-10","common-api","0.4752028177"
"2024-06-10","config-store-db","8.530767880199999"
"2024-06-10","consistency-message-queue","0.0008648"
"2024-06-10","consistency-worker","0.0119199276"
"2024-06-10","control-plane-api-logs","0.0040610635"
"2024-06-10","control-plane-api-repository","0.0322346268"
"2024-06-10","control-plane-api-router","0.8104174243000001"
"2024-06-10","control-plane-cluster","2.2139602027"
"2024-06-10","control-plane-container-insights-logs","0.0281238713"
"2024-06-10","crm-api","2.1895924"
"2024-06-10","crm-audience-cache-loader","0.0024327594"
"2024-06-10","crm-audience-cache-loader-runner","0.0062435214"
"2024-06-10","crm-audience-cache-loder","0.0073185732"
"2024-06-10","crm-audience-daemon-worker","2.3732384683"
"2024-06-10","crm-audience-db","14.75376804"
"2024-06-10","crm-audience-manager","0.011716903800000001"
"2024-06-10","crm-click-tracking-api","0.0204063408"
"2024-06-10","crm-event-api","0.0067325886"
"2024-06-10","crm-ingestion-api","4.5530500213"
"2024-06-10","crm-nat-api","2.3249799725415436"
"2024-06-10","daemon-server-executor-job-dead-queue","0.0000032"
"2024-06-10","daemon-server-executor-job-queue","0.0031284000000000004"
"2024-06-10","dashboard-report-db","6.9400794003"
"2024-06-10","dashboard-service","0.0054545840535144"
"2024-06-10","dashboard-storage","0.00007452400000000001"
"2024-06-10","data-app-cluster","2.9470412128"
"2024-06-10","data-app-container-ingsights-logs","0.0101403355"
"2024-06-10","data-catalog-db","10.5233138386"
"2024-06-10","data-serverless-container-insights-logs","0.0011400410999999999"
"2024-06-10","data-service-api-logs","0.0385259841"
"2024-06-10","data-service-api-repository","0.0305140806"
"2024-06-10","data-service-api-router","0.8140977933000001"
"2024-06-10","data-service-api-service","0"
"2024-06-10","data-warehouse-db","46.3161364173"
"2024-06-10","delay-send-schedule-job-dq","8e-7"
"2024-06-10","delay-send-schedule-job-queue","0.0024200000000000003"
"2024-06-10","delivery-job-queue","8e-7"
"2024-06-10","device-connect-loader-dead-queue","0.0000048"
"2024-06-10","device-connect-loader-logs","0.0002601061"
"2024-06-10","device-connect-loader-service","0.000274542728968"
"2024-06-10","device-connect-loader-unhandled-dead-queue","0.0055128"
"2024-06-10","device-profile-aggregated-sender","0.0169471008"
"2024-06-10","device-profile-change-log-etl-pipeline-trigger-queue","0.002602"
"2024-06-10","device-profile-change-log-etl-pipeline-trigger-queue-dead-queue","0.000004"
"2024-06-10","device-profile-change-stream-firehose","0.0000992821"
"2024-06-10","device-profile-change-stream-loader-logs","0.0002256594"
"2024-06-10","device-profile-change-stream-loader-queue","0.0000048"
"2024-06-10","device-profile-change-stream-loader-service","0.00015744071292799998"
"2024-06-10","device-profile-change-stream-loader-unhandled-queue","0.0000048"
"2024-06-10","device-profile-change-stream-queue","2.3328003468"
"2024-06-10","device-profile-connect-stream","0.6660002652000001"
"2024-06-10","device-profile-db","15.040393643"
"2024-06-10","device-profile-loader-dead-queue","0.0000048"
"2024-06-10","device-profile-loader-logs","0.00013753770000000002"
"2024-06-10","device-profile-loader-service","0.000089137799762"
"2024-06-10","device-profile-loader-unhandled-dead-queue","0.0055168"
"2024-06-10","device-profile-sdkapi","0.0301020336"
"2024-06-10","device-profile-stream","0.6660002448"
"2024-06-10","dfinery-domain","0.0000188645"
"2024-06-10","dfn-library-repository","0.0000864569"
"2024-06-10","etl-namespace-db","0.0020781342"
"2024-06-10","etl-pipeline-serverless-executor-job-dead-queue","0.0000048"
"2024-06-10","etl-pipeline-serverless-executor-job-queue","0.0102148"
"2024-06-10","etl-workgroup-db","12.575459172"
"2024-06-10","event-aggregated-sender","0.055452358800000004"
"2024-06-10","event-api","4.779104675953281"
"2024-06-10","event-ingestion-stream","2.3310003876"
"2024-06-10","event-log-etl-pipeline-trigger-file-event","0.000020842899999999997"
"2024-06-10","event-log-etl-pipeline-trigger-queue","0.0027644"
"2024-06-10","event-log-etl-pipeline-trigger-queue-dead-queue","0.000004"
"2024-06-10","event-log-ingestion-pipeline-trigger-file-event","0.0000111066"
"2024-06-10","event-log-ingestion-pipeline-trigger-queue","0.0027008"
"2024-06-10","event-log-ingestion-pipeline-trigger-queue-dead-queue","0.000004"
"2024-06-10","event-openapi","0.0353894454"
"2024-06-10","event-sdkapi","0.0543832884"
"2024-06-10","event-triggering-delay-sender","0.021915439199999998"
"2024-06-10","event-triggering-entry-consumer","0.023384619"
"2024-06-10","event-triggering-entry-queue","0.051768800000000004"
"2024-06-10","fetch-api","0.0175576176"
"2024-06-10","identifier-loader-logs","0.0241203307"
"2024-06-10","identifier-loader-queue","0.0000048"
"2024-06-10","identifier-loader-service","0.0024544481448204"
"2024-06-10","identifier-loader-unhandled-dead-queue","0.0055132"
"2024-06-10","identifier-openapi","0.0209789424"
"2024-06-10","identifier-queue","2.333412102"
"2024-06-10","identifier-sdkapi","0.0225384696"
"2024-06-10","identity-db","15.0671706192"
"2024-06-10","identity-db-profiler-logs","0.2843162666"
"2024-06-10","identity-logs-storage","0.000106024"
"2024-06-10","identity-unify-loader-logs","0.0011203486"
"2024-06-10","identity-unify-loader-repository","0.0156818592"
"2024-06-10","identity-unify-loader-service","0"
"2024-06-10","kt-nat-api","0.001503702"
"2024-06-10","meta-db","12.4522696895"
"2024-06-10","notification-consistency-result-db","0.021074359600000002"
"2024-06-10","oauth-openapi","0.0168558138"
"2024-06-10","pipeline-engine-logs","0.08392783300000001"
"2024-06-10","pipeline-engine-repository","0.1530969804"
"2024-06-10","pipeline-job-db","0.1650676398"
"2024-06-10","pipeline-trigger-message-provider-queue","0.005694"
"2024-06-10","pipeline-trigger-message-provider-service","0.0039618504465861"
"2024-06-10","pipeline-trigger-queue","0.0025948"
"2024-06-10","pipeline-trigger-queue-dead-queue","0.0000016"
"2024-06-10","profile-api","5.4382314055203524"
"2024-06-10","profile-s3-file-event-queue","0.0000024"
"2024-06-10","profile360-etl-pipeline-trigger-queue","0.0028868"
"2024-06-10","profile360-etl-pipeline-trigger-queue-dead-queue","0.0000024"
"2024-06-10","profile360-etl-serverless-executor-job-dead-queue","0.0000024"
"2024-06-10","profile360-etl-serverless-executor-job-queue","0.0109888"
"2024-06-10","push-daemon-queue","0.010368800000000001"
"2024-06-10","push-daemon-worker","4.9023078063094125"
"2024-06-10","push-delivery-job-status-db","0.0209617751"
"2024-06-10","push-scheduler","0.01792755"
"2024-06-10","push-sender","0.023828909399999997"
"2024-06-10","push-sender-runner","0.011870402399999999"
"2024-06-10","put-audience-query-file-event","5.693e-7"
"2024-06-10","put-crm-log-ingestion-file-event","0.0000018317"
"2024-06-10","query-execution-manager-logs","0.039162096699999996"
"2024-06-10","query-execution-manager-repository","0.0178988508"
"2024-06-10","query-job-db","0.0746860567"
"2024-06-10","report-namespace-db","0.0019890549"
"2024-06-10","report-workgroup-db","23.126385546"
"2024-06-10","sdk-meta-sdkapi","0.0190962378"
"2024-06-10","sender-runner-trigger-queue","0.0020736"
"2024-06-10","serverless-executor-job-dead-queue","0.0000024"
"2024-06-10","serverless-executor-job-queue","0.0093132"
"2024-06-10","simulate-api","0.0086081994"
"2024-06-10","test-push-api","0.0113118012"
"2024-06-10","unhandled-job-loader-logs","9.66e-8"
"2024-06-10","unifiedid-merge-loader-dead-queue","0.0027568000000000002"
"2024-06-10","unifiedid-merge-loader-logs","1.78e-8"
"2024-06-10","unifiedid-merge-loader-unhandled-dead-queue","0.00551"
"2024-06-10","unifiedid-merge-queue","1.5552000000000001"
"2024-06-10","uri-based-query-runner-pipeline-trigger-dead-queue","0.0000028"
"2024-06-10","uri-based-query-runner-pipeline-trigger-queue","0.0026044"
"2024-06-10","user-profile-aggregated-sender","0.017932145400000002"
"2024-06-10","user-profile-change-log-etl-pipeline-trigger-queue","0.0026012"
"2024-06-10","user-profile-change-log-etl-pipeline-trigger-queue-dead-queue","0.0000016"
"2024-06-10","user-profile-change-stream-firehose","0.0012757912"
"2024-06-10","user-profile-change-stream-loader-logs","0.00036173900000000003"
"2024-06-10","user-profile-change-stream-loader-queue","0.0000016"
"2024-06-10","user-profile-change-stream-loader-service","0.0006118893731984"
"2024-06-10","user-profile-change-stream-loader-unhandled-queue","0.0000016"
"2024-06-10","user-profile-change-stream-queue","3.8880148716000003"
"2024-06-10","user-profile-db","68.6066542169"
"2024-06-10","user-profile-db-profiler-logs","0.034313596"
"2024-06-10","user-profile-etl-pipeline-trigger-queue","0.0025932"
"2024-06-10","user-profile-etl-pipeline-trigger-queue-dead-queue","0.0000016"
"2024-06-10","user-profile-etl-serverless-executor-job-dead-queue","0.0000016"
"2024-06-10","user-profile-etl-serverless-executor-job-queue","0.0091336"
"2024-06-10","user-profile-internal-loader-dead-queue","0.0000016"
"2024-06-10","user-profile-internal-loader-unhandled-dead-queue","0.0000016"
"2024-06-10","user-profile-internal-queue","1.5552000000000001"
"2024-06-10","user-profile-loader-dead-queue","0.0000016"
"2024-06-10","user-profile-loader-logs","8e-9"
"2024-06-10","user-profile-loader-unhandled-dead-queue","0.0055148"
"2024-06-10","user-profile-openapi","0.0239036022"
"2024-06-10","user-profile-sdkapi","0.024457148999999997"
"2024-06-10","user-profile-stream","0.666"
""".trimIndent()

fun test() {
    val realTags = realCostRows.split("\n").map { it.split(",")[1].trim('"') }.toSet()
    val infraTags = infraTags.split("\n").map { it.trim() }.toSet()
    val diff = infraTags - realTags
    println("infraTags - realTags")
    println(diff.joinToString("\n"))
    val diff2 = realTags - infraTags
    println("realTags - infraTags")
    println(diff2.joinToString("\n"))
}